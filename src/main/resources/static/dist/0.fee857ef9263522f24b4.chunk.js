webpackJsonp([0],{115:function(e,t,o){e.exports=o.p+"5ffbc9bc9f69b085db3617e229ce4479.svg"},117:function(e,t,o){e.exports=o.p+"3fa92281020f448a50d540d268e7fa3e.svg"},118:function(e,t,o){e.exports=o.p+"832ce32cc4144b1d5886292168de4964.svg"},128:function(e,t,o){e.exports=o.p+"5d38ec0fe1f0823a489e4cc9b152bc1f.svg"},129:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout"},[n("Layout",{staticClass:"layout",nativeOn:{click:function(t){e.countdownReset()}}},[n("Header",{staticStyle:{padding:"20px"}},[n("Steps",{attrs:{current:1}},[n("Step",{attrs:{title:"已完成",content:"上传文件或插入U盘"}}),e._v(" "),n("Step",{attrs:{title:"进行中",content:"选择需要打印的文件"}}),e._v(" "),n("Step",{attrs:{title:"待进行",content:"调整打印设置"}}),e._v(" "),n("Step",{attrs:{title:"待进行",content:"选择打印方式"}}),e._v(" "),n("Step",{attrs:{title:"待进行",content:"设备打印"}})],1)],1),e._v(" "),n("Content",{staticStyle:{height:"100%",padding:"2%"},style:this.$root.background},[n("v-exception",{ref:"exceptionModel"}),e._v(" "),n("v-preProcessModel",{ref:"preProcessModel"}),e._v(" "),n("Row",[n("p",{staticStyle:{"text-align":"center","font-size":"18px",color:"#000000"}},[e._v("MOTA校园 · 免费自助打印设备")]),e._v(" "),n("p",{staticStyle:{"text-align":"center","font-size":"40px","margin-top":"5px",color:"#000000"}},[e._v("请选择需要打印的文件")])]),e._v(" "),n("Row",[n("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[n("Row",e._l(e.roots,function(t){return n("Col",{key:t,staticStyle:{"text-align":"center","white-space":"nowrap",height:"100px",overflow:"hidden","text-overflow":"ellipsis",margin:"10px"},attrs:{span:"24"}},[n("a",{on:{click:function(o){e.getFileList(t,"Directory","")}}},[n("img",{attrs:{src:o(128),width:"50px"}}),e._v(" "),n("p",{staticStyle:{display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"2","white-space":"normal !important"}},[e._v("\n                                    "+e._s(t)+"\n                                ")])])])}))],1),e._v(" "),n("Col",{attrs:{span:"18"}},[n("Row",{style:e.contentHeight},[n("CheckboxGroup",{model:{value:e.checkedFile,callback:function(t){e.checkedFile=t},expression:"checkedFile"}},e._l(e.files,function(t){return n("Col",{key:t.fileName,staticStyle:{"text-align":"center",height:"100px",overflow:"hidden",margin:"10px"},attrs:{span:"3"}},["Directory"!=t.fileType&&"Top-Level"!=t.fileType?n("Checkbox",{attrs:{label:t.fileName,disabled:"initMode"!=e.chooseFileState&&!("picChooseMode"==e.chooseFileState&("png"==t.fileType||"jpg"==t.fileType))},nativeOn:{click:function(o){o.preventDefault(),e.getFileList(t.filePath,t.fileType,t.fileName)}}},[n("img",{attrs:{src:t.fileIcon,width:"50px"}})]):e._e(),e._v(" "),n("a",{on:{click:function(o){e.getFileList(t.filePath,t.fileType,t.fileName)}}},["Directory"==t.fileType||"Top-Level"==t.fileType?n("img",{staticStyle:{"margin-bottom":"5px"},attrs:{src:t.fileIcon,width:"50px"}}):e._e(),e._v(" "),n("p",{staticStyle:{display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"2","white-space":"normal !important"}},[e._v("\n                                        "+e._s(t.fileName)+"\n                                    ")])])],1)}))],1)],1),e._v(" "),n("Col",{staticStyle:{"text-align":"center"},attrs:{span:"4"}},[n("Button",{attrs:{type:"primary",loading:e.loading,icon:"md-print"},on:{click:e.chooseFile}},[e.loading?n("span",[e._v("预处理中...")]):n("span",[e._v("确认打印文件")])])],1)],1)],1),e._v(" "),n("Footer",[n("p",{staticClass:"layout-footer-center"},[e._v("© Copyright 2018-2019 Oriole(MOTA). All Rights Reserved.")]),e._v(" "),n("v-countdownButton",{ref:"countdown",staticStyle:{position:"absolute",right:"10px",bottom:"10px"}})],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},50:function(e,t,o){o(95);var n=o(14)(o(87),o(129),"data-v-406baeee",null);n.options.__file="F:\\Projects\\IdeaProjects\\MotaControlView\\src\\views\\ChooseFile.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] ChooseFile.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},58:function(e,t,o){o(62);var n=o(14)(o(59),o(66),"data-v-684d4a5f",null);n.options.__file="F:\\Projects\\IdeaProjects\\MotaControlView\\src\\components\\CountdownButton.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] CountdownButton.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},59:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{showButton:!0,router:"/"}},components:{},methods:{countDownStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"true";clearInterval(this.$root.countdownClock),this.router=o,this.showButton=n,this.$root.countdownReturnTime=e,this.$root.countdownClock=window.setInterval(function(){--t.$root.countdownReturnTime<0&&t.countdownDo()},1e3)},countdownDo:function(){clearInterval(this.$root.countdownClock),this.$router.push(this.router)},countdownReset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;this.$root.countdownReturnTime=e}}}},60:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(58),i=o.n(n);t.default={components:{"v-countdownButton":i.a},data:function(){return{title:[{title:"执行结果",key:"state",width:90},{title:"代码",key:"code",width:90},{title:"异常信息",key:"msg"}],errorMsg:[],exceptionModel:!1,randomCode:null}},props:{},methods:{openExceptionModel:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-1",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ERROR";arguments[4]?this.$refs.countdown.countDownStart(60,"/StopServer"):this.$refs.countdown.countDownStart(60),this.randomCode=e;var i={};i.code=o,i.state=n,i.msg=t,this.errorMsg.push(i),this.exceptionModel=!0}}}},61:function(e,t){},62:function(e,t){},63:function(e,t,o){e.exports=o.p+"6f5a360e8c66765b60806e3babf78aef.png"},64:function(e,t,o){o(61);var n=o(14)(o(60),o(65),"data-v-0d3998ae",null);n.options.__file="F:\\Projects\\IdeaProjects\\MotaControlView\\src\\components\\ExceptionModel.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] ExceptionModel.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},65:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{width:"700",closable:!1,"mask-closable":!1},model:{value:e.exceptionModel,callback:function(t){e.exceptionModel=t},expression:"exceptionModel"}},[n("p",{staticStyle:{color:"#ed4014","text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("Icon",{attrs:{type:"ios-information-circle"}}),e._v(" "),n("span",[e._v("系统发生错误或异常")])],1),e._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{margin:"10px"},attrs:{src:o(63),width:"200"}}),e._v(" "),n("p",{staticStyle:{"font-size":"16px"}},[e._v("由于设备发生致命错误，我们被迫终止本次打印服务，给您带来的不便我们深表歉意。")]),e._v(" "),n("p",{staticStyle:{color:"#999999"}},[e._v("若您已经付费，请保留下方随机用户码进行退费，您将在1个工作日内获得全额退款与一次免费打印机会（限20张内）")]),e._v(" "),n("p",{staticStyle:{margin:"5px"}},[e._v("随机用户编码："),n("span",{staticStyle:{"font-size":"22px"}},[e._v(e._s(e.randomCode)+"-ET")])])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Table",{attrs:{columns:e.title,data:e.errorMsg}}),e._v(" "),n("v-countdownButton",{ref:"countdown",staticStyle:{"font-size":"16px","margin-top":"10px"}})],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0},66:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.showButton?o("Button",{staticStyle:{"font-size":"16px"},attrs:{type:"error"},on:{click:function(t){e.countdownDo()}}},[o("Icon",{attrs:{type:"md-exit"}}),e._v("\n    退出\n    "),o("span",{staticStyle:{color:"#FA8072"}},[e._v("["+e._s(this.$root.countdownReturnTime)+" 秒]")])],1):e._e()},staticRenderFns:[]},e.exports.render._withStripped=!0},67:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(15);o.n(n);t.default={data:function(){return{promptMessage:"海内存知己，天涯若比邻",promptMessageArray:["欢迎使用墨拓自助打印设备","来自中南大学计算机学院、商学院的8名同学","以梦为马，践行公益传媒","凡心所向，素履所往；生如逆旅，一苇以航"],fileProcessingModel:!1,processClock:0}},methods:{doAnimation:function(){var e=this,t=0;this.processClock=window.setInterval(function(){t++,e.promptMessage=e.promptMessageArray[t%e.promptMessageArray.length]},2e3)},fileProcessing:function(e,t,o){var i=this;this.doAnimation(),this.fileProcessingModel=!0,n({method:"get",url:"http://localhost:8999/preProcessing",params:{fileAbsolutePath:encodeURI(JSON.stringify(t)),fileType:o,randomCode:this.$root.randomCode}}).then(function(t){var o=t.data;"SUCCESS"==o.state?(console.log("Successful File Preprocessing"),clearInterval(i.processClock),i.$router.push({name:"SetPrintParam"})):(i.fileProcessingModel=!1,e.$refs.exceptionModel.openExceptionModel(i.$root.randomCode,o.msg,o.code,o.state))}).catch(function(t){i.fileProcessingModel=!1,e.$refs.exceptionModel.openExceptionModel(i.$root.randomCode,t.toString())})},copyFileProcessing:function(e,t){var o=this;this.doAnimation(),this.fileProcessingModel=!0,n({method:"get",url:"http://localhost:8999/copyPreProcessing",params:{totalPage:t,randomCode:this.$root.randomCode}}).then(function(t){var n=t.data;"SUCCESS"==n.state?(console.log("Successful File Preprocessing"),clearInterval(o.processClock),o.$router.push({name:"SetPrintParam"})):(o.fileProcessingModel=!1,e.$refs.exceptionModel.openExceptionModel(o.$root.randomCode,n.msg,n.code,n.state))}).catch(function(t){o.fileProcessingModel=!1,e.$refs.exceptionModel.openExceptionModel(o.$root.randomCode,t.toString())})}}}},68:function(e,t){},69:function(e,t,o){e.exports=o.p+"f082de95f3d1fd59c515b27d4aeafb2c.svg"},70:function(e,t,o){o(68);var n=o(14)(o(67),o(71),"data-v-0f0180d9",null);n.options.__file="F:\\Projects\\IdeaProjects\\MotaControlView\\src\\components\\PreProcessModel.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] PreProcessModel.vue: functional components are not supported with templates, they should use render functions."),e.exports=n.exports},71:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{width:"700",closable:!1,"mask-closable":!1},model:{value:e.fileProcessingModel,callback:function(t){e.fileProcessingModel=t},expression:"fileProcessingModel"}},[n("p",{staticStyle:{color:"#2b85e4","text-align":"center","font-size":"16px"},attrs:{slot:"header"},slot:"header"},[n("Icon",{attrs:{type:"ios-information-circle"}}),e._v(" "),n("span",[e._v("正在处理中，请稍后")])],1),e._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("iframe",{attrs:{frameborder:"0",scrolling:"no",src:"Loading",width:"100%",height:"150"}}),e._v(" "),n("p",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.promptMessage))]),e._v(" "),n("p",{staticStyle:{"font-size":"32px"}},[e._v("我们将很快完成")]),e._v(" "),n("p",{staticStyle:{"font-size":"16px"}},[e._v("为了确保文档格式与打印一致，小墨正在调用WPS Office2019处理相关文件")])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("img",{attrs:{src:o(69),width:"70px"}}),e._v(" "),n("p",[e._v("金山办公软件提供技术支持")])])])},staticRenderFns:[]},e.exports.render._withStripped=!0},80:function(e,t,o){e.exports=o.p+"c72dfa7018d295305acc5ec4666fc940.svg"},81:function(e,t,o){e.exports=o.p+"e68ac516fbb710657564175d7bf9e59b.svg"},82:function(e,t,o){e.exports=o.p+"6ef89bbbb8afea2e14fe40ee349daf7d.svg"},84:function(e,t,o){e.exports=o.p+"152573d4d3577db66f27ac022eba69a5.svg"},87:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(15),i=(o.n(n),o(64)),s=o.n(i),r=o(58),c=o.n(r),l=o(70),a=o.n(l);t.default={components:{"v-exception":s.a,"v-countdownButton":c.a,"v-preProcessModel":a.a},data:function(){return{loading:!1,contentHeight:{height:""+document.documentElement.clientHeight-300+"px",overflowY:"scroll"},path:this.$route.params.roots[0],roots:this.$route.params.roots,files:[],pathTemp:[],checkedFile:[],checkedFileType:null,checkedFilePath:[],chooseFileState:"initMode"}},mounted:function(){this.$refs.countdown.countDownStart(300),this.getFileList(this.path,"Directory")},methods:{countdownReset:function(){this.$refs.countdown.countdownReset(300)},getFileList:function(e,t,i){var s=this;"Directory"==t?(this.pathTemp.push(e),this.files.splice(0,this.files.length),n({method:"get",url:"http://localhost:8999/getFiles",params:{path:e}}).then(function(t){var n=t.data;if("SUCCESS"==n.state){if(e!=s.rootPath){var i={fileIcon:o(81),fileName:"...",filePath:"",fileType:"Top-Level"};s.files.push(i)}var r=JSON.parse(n.msg);for(var c in r){var l={fileIcon:s.getFileIcon(r[c].fileType),fileName:r[c].fileName,filePath:r[c].filePath,fileType:r[c].fileType};s.files.push(l)}}else s.$refs.exceptionModel.openExceptionModel(s.$root.randomCode,n.msg,n.code,n.state)}).catch(function(e){s.$refs.exceptionModel.openExceptionModel(s.$root.randomCode,e.toString())})):"Top-Level"==t?(this.pathTemp.pop(),e=this.pathTemp.pop(),this.getFileList(e,"Directory")):this.checkedFile.includes(i)?(this.checkedFile.splice(this.checkedFile.indexOf(i),1),this.checkedFilePath.splice(this.checkedFilePath.indexOf(e),1),0==this.checkedFile.length&&(this.checkedFileType=null,this.chooseFileState="initMode")):"jpg"==this.checkedFileType|"png"==this.checkedFileType|null==this.checkedFileType&&"jpg"==t|"png"==t?(this.chooseFileState="picChooseMode",this.checkedFile.push(i),this.checkedFileType=t,this.checkedFilePath.push(e)):this.checkedFile.length>0?this.$Notice.error({title:"最多选择一个非图片的文档",desc:"除图片外，不可多选打印的文档，请逐份打印！"}):(this.chooseFileState="normalChooseMode",this.checkedFile.push(i),this.checkedFileType=t,this.checkedFilePath.push(e))},chooseFile:function(){this.loading=!0,this.$refs.preProcessModel.fileProcessing(this,this.checkedFilePath,this.checkedFileType)},getFileIcon:function(e){switch(e){case"doc":case"docx":return o(80);case"ppt":case"pptx":return o(82);case"xls":case"xlsx":return o(84);case"jpg":return o(115);case"png":return o(118);case"pdf":return o(117);case"Directory":return o(81)}}}}},95:function(e,t){}});