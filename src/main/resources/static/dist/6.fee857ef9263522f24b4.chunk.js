webpackJsonp([6],{119:function(t,e,o){t.exports=o.p+"09ea24d8178ebca750e715bf5485dd9f.png"},120:function(t,e,o){t.exports=o.p+"d2c6ca1ae35d06841f33c12679522b4b.svg"},133:function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("Layout",{staticClass:"layout"},[n("Header",{staticStyle:{padding:"20px"}},[n("Steps",{attrs:{current:4}},[n("Step",{attrs:{title:"已完成",content:"上传文件或插入U盘"}}),t._v(" "),n("Step",{attrs:{title:"已完成",content:"选择需要打印的文件"}}),t._v(" "),n("Step",{attrs:{title:"已完成",content:"调整打印设置"}}),t._v(" "),n("Step",{attrs:{title:"已完成",content:"选择打印方式"}}),t._v(" "),n("Step",{attrs:{title:"进行中",content:"设备打印"}})],1)],1),t._v(" "),n("Content",{staticStyle:{height:"100%",padding:"2%"},style:this.$root.background},[n("v-exception",{ref:"exceptionModel"}),t._v(" "),n("Modal",{attrs:{width:"800px",closable:!1,"mask-closable":!1},model:{value:t.printSuccessModel,callback:function(e){t.printSuccessModel=e},expression:"printSuccessModel"}},[n("p",{staticStyle:{color:"#19be6b","text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),n("span",[t._v("成功")])],1),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("p",{staticStyle:{"text-align":"center","font-size":"18px","margin-bottom":"10px"}},[t._v("打印任务已经顺利完成")]),t._v(" "),n("p",{staticStyle:{"text-align":"center","font-size":"14px","margin-bottom":"10px"}},[t._v("请勿忘记您的U盘、背包或其他个人物品，感谢为您服务，下次再见")]),t._v(" "),n("img",{staticStyle:{margin:"30px"},attrs:{src:o(119),width:"200"}})]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("p",{staticStyle:{"text-align":"center","font-size":"14px","margin-bottom":"10px"}},[t._v("我们将在 "+t._s(this.$root.countdownReturnTime)+" s后返回开始页面")])])]),t._v(" "),n("Row",[n("p",{staticStyle:{"text-align":"center","font-size":"18px",color:"#000000"}},[t._v("MOTA校园 · 免费自助打印设备")]),t._v(" "),n("p",{staticStyle:{"text-align":"center","font-size":"40px","margin-top":"5px",color:"#000000"}},[t._v("设备打印中，请稍后……")])]),t._v(" "),n("Row",{staticStyle:{height:"80%"},attrs:{type:"flex",justify:"center"}},[n("Col",{staticStyle:{"align-items":"center",display:"flex","flex-direction":"column","justify-content":"center"},attrs:{span:"18"}},[n("img",{staticStyle:{margin:"30px"},attrs:{src:o(120),width:"100"}}),t._v(" "),n("p",{staticStyle:{"font-size":"16px"}},[t._v("海内存知己，天涯若比邻")]),t._v(" "),n("p",{staticStyle:{"font-size":"32px"}},[t._v("我们将很快完成")]),t._v(" "),n("br"),t._v(" "),n("Progress",{attrs:{percent:t.pseudoProgress,status:"active"}}),t._v(" "),n("p",{staticStyle:{"font-size":"12px"}},[t._v("(进度条指示为预估的打印时间，可能与实际时间不符，以实际打印进度为准)")]),t._v(" "),n("p",{staticStyle:{"font-size":"18px","margin-top":"10px"}},[t._v(t._s(t.state))]),t._v(" "),n("Button",{attrs:{type:"primary"},on:{click:t.finishPrint}},[t._v("我已完成打印")])],1)],1)],1),t._v(" "),n("Footer",[n("p",{staticClass:"layout-footer-center"},[t._v("2018-2019 © Oriole Software MOTA")]),t._v(" "),n("v-countdownButton",{ref:"countdown",staticStyle:{position:"absolute",right:"10px",bottom:"10px"}})],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},53:function(t,e,o){o(99);var n=o(14)(o(90),o(133),"data-v-5dc9ecc7",null);n.options.__file="F:\\Projects\\IdeaProjects\\MotaControlView\\src\\views\\Print.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] Print.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},58:function(t,e,o){o(62);var n=o(14)(o(59),o(66),"data-v-684d4a5f",null);n.options.__file="F:\\Projects\\IdeaProjects\\MotaControlView\\src\\components\\CountdownButton.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] CountdownButton.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},59:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{showButton:!0,router:"/"}},components:{},methods:{countDownStart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"true";clearInterval(this.$root.countdownClock),this.router=o,this.showButton=n,this.$root.countdownReturnTime=t,this.$root.countdownClock=window.setInterval(function(){--e.$root.countdownReturnTime<0&&e.countdownDo()},1e3)},countdownDo:function(){clearInterval(this.$root.countdownClock),this.$router.push(this.router)},countdownReset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;this.$root.countdownReturnTime=t}}}},60:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(58),r=o.n(n);e.default={components:{"v-countdownButton":r.a},data:function(){return{title:[{title:"执行结果",key:"state",width:90},{title:"代码",key:"code",width:90},{title:"异常信息",key:"msg"}],errorMsg:[],exceptionModel:!1,randomCode:null}},props:{},methods:{openExceptionModel:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-1",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ERROR";arguments[4]?this.$refs.countdown.countDownStart(60,"/StopServer"):this.$refs.countdown.countDownStart(60),this.randomCode=t;var r={};r.code=o,r.state=n,r.msg=e,this.errorMsg.push(r),this.exceptionModel=!0}}}},61:function(t,e){},62:function(t,e){},63:function(t,e,o){t.exports=o.p+"6f5a360e8c66765b60806e3babf78aef.png"},64:function(t,e,o){o(61);var n=o(14)(o(60),o(65),"data-v-0d3998ae",null);n.options.__file="F:\\Projects\\IdeaProjects\\MotaControlView\\src\\components\\ExceptionModel.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] ExceptionModel.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},65:function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{attrs:{width:"700",closable:!1,"mask-closable":!1},model:{value:t.exceptionModel,callback:function(e){t.exceptionModel=e},expression:"exceptionModel"}},[n("p",{staticStyle:{color:"#ed4014","text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),n("span",[t._v("系统发生错误或异常")])],1),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("img",{staticStyle:{margin:"10px"},attrs:{src:o(63),width:"200"}}),t._v(" "),n("p",{staticStyle:{"font-size":"16px"}},[t._v("由于设备发生致命错误，我们被迫终止本次打印服务，给您带来的不便我们深表歉意。")]),t._v(" "),n("p",{staticStyle:{color:"#999999"}},[t._v("若您已经付费，请保留下方随机用户码进行退费，您将在1个工作日内获得全额退款与一次免费打印机会（限20张内）")]),t._v(" "),n("p",{staticStyle:{margin:"5px"}},[t._v("随机用户编码："),n("span",{staticStyle:{"font-size":"22px"}},[t._v(t._s(t.randomCode)+"-ET")])])]),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Table",{attrs:{columns:t.title,data:t.errorMsg}}),t._v(" "),n("v-countdownButton",{ref:"countdown",staticStyle:{"font-size":"16px","margin-top":"10px"}})],1)])},staticRenderFns:[]},t.exports.render._withStripped=!0},66:function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.showButton?o("Button",{staticStyle:{"font-size":"16px"},attrs:{type:"error"},on:{click:function(e){t.countdownDo()}}},[o("Icon",{attrs:{type:"md-exit"}}),t._v("\n    退出\n    "),o("span",{staticStyle:{color:"#FA8072"}},[t._v("["+t._s(this.$root.countdownReturnTime)+" 秒]")])],1):t._e()},staticRenderFns:[]},t.exports.render._withStripped=!0},90:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(15),r=(o.n(n),o(64)),s=o.n(r),i=o(58),a=o.n(i);e.default={components:{"v-exception":s.a,"v-countdownButton":a.a},data:function(){return{state:"正在初始化设备",pseudoProgress:0,processCountdownClock:0,printSuccessModel:!1,stopCode:"40001",stopMsg:"未知错误"}},mounted:function(){this.doPrint()},methods:{doPrint:function(){var t=this;this.printerStatusMonitor(),n({method:"get",url:"http://localhost:8999/printFile",params:{fileName:this.$root.randomCode,randomCode:this.$root.randomCode,printMode:this.$route.params.printMode}}).then(function(e){var o=e.data;if("SUCCESS"==o.state){var n=parseInt(o.msg);t.state="正在打印";var r=0;t.processCountdownClock=window.setInterval(function(){r+=.1,t.pseudoProgress=Math.floor(-100/Math.pow(n,2)*Math.pow(r,2)+200/n*r),100==t.pseudoProgress&&(t.state="打印已经结束",t.finishPrint())},100)}else t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,o.msg,o.code,o.state)}).catch(function(e){t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,e.toString())})},printerStatusMonitor:function(){var t=this;n({method:"get",url:"http://localhost:8999/PrinterStatusMonitor",params:{randomCode:this.$root.randomCode}}).then(function(e){var o=e.data;"SUCCESS"==o.state?(t.printSuccessModel=!0,t.$refs.countdown.countDownStart(10,"/",!1)):(t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,o.msg,o.code,o.state,!0),t.state="打印异常终止")}).catch(function(e){t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,e.toString())})},finishPrint:function(){var t=this;clearInterval(this.processCountdownClock),n({method:"get",url:"http://localhost:8999/finishPrint"}).then(function(e){var o=e.data;"SUCCESS"==o.state||t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,o.msg,o.code,o.state,!0)}).catch(function(e){t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,e.toString())})}}}},99:function(t,e){}});