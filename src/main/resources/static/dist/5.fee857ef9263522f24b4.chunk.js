webpackJsonp([5],{101:function(t,e){},105:function(t,e,a){t.exports=a.p+"557388965a95491708bdfe51b93234bc.png"},106:function(t,e,a){t.exports=a.p+"7d50eacf6c8a0ea700e22745c6daa3e3.png"},108:function(t,e,a){t.exports=a.p+"08478b83b395d4a142f64b8f8a74bd52.png"},109:function(t,e,a){t.exports=a.p+"28125d0dc0c4e4867613ea33bdb9648d.png"},135:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout"},[i("Layout",{staticClass:"layout",nativeOn:{click:function(e){t.countdownReset()}}},[i("Header",{staticStyle:{padding:"20px"}},[i("Steps",{attrs:{current:2}},[i("Step",{attrs:{title:"已完成",content:"上传文件或插入U盘"}}),t._v(" "),i("Step",{attrs:{title:"已完成",content:"选择需要打印的文件"}}),t._v(" "),i("Step",{attrs:{title:"进行中",content:"调整打印设置"}}),t._v(" "),i("Step",{attrs:{title:"待进行",content:"选择打印方式"}}),t._v(" "),i("Step",{attrs:{title:"待进行",content:"设备打印"}})],1)],1),t._v(" "),i("Content",{staticStyle:{height:"100%","padding-top":"2%","padding-left":"2%","padding-right":"2%"},style:this.$root.background},[i("v-exception",{ref:"exceptionModel"}),t._v(" "),i("Row",[i("p",{staticStyle:{"text-align":"center","font-size":"18px"}},[t._v("MOTA校园 · 免费自助打印设备")]),t._v(" "),i("p",{staticStyle:{"text-align":"center","font-size":"40px"}},[t._v("请设置打印参数")])]),t._v(" "),i("Row",{staticStyle:{height:"80%"}},[i("Col",{staticStyle:{height:"100%","align-items":"center",display:"flex","flex-direction":"column"},attrs:{span:"8"}},[t.loading?i("Alert",{attrs:{type:"warning","show-icon":""}},[t._v("\n                        由于页面较多，因此页面预览加载尚未完成\n                        "),i("template",{slot:"desc"},[t._v("\n                            加载完成前，一张多页设置预览将无法使用，请稍后……"),i("br"),t._v("\n                            当前加载第 "+t._s(t.filePageSize)+" 页，共"+t._s(t.finalFilePageSize)+" 页\n                        ")])],2):t._e(),t._v(" "),i("img",{ref:"PreviewPic",staticStyle:{margin:"10px","max-height":"360px","max-width":"460px"}}),t._v(" "),i("Page",{attrs:{total:t.filePageSize,"page-size":1,"prev-text":"Previous","next-text":"Next"},on:{"on-change":t.selectPage}}),t._v(" "),t.multiPagePreviewRefresh?i("Spin",{attrs:{fix:""},nativeOn:{click:function(e){t.splicingPage()}}},[i("Icon",{attrs:{type:"md-refresh-circle",size:"48"}}),t._v(" "),i("br"),t._v(" "),i("div",{staticStyle:{"font-size":"16px"}},[t._v("当你设置完成"),i("br"),t._v("请点击此处刷新多页预览")])],1):t._e(),t._v(" "),t.multiPagePreviewRefreshLoading?i("Spin",{attrs:{fix:""}},[i("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"48"}}),t._v(" "),i("br"),t._v(" "),i("div",{staticStyle:{"font-size":"16px"}},[t._v("正在刷新多页预览")])],1):t._e()],1),t._v(" "),i("Col",{staticStyle:{height:"100%","align-items":"center",display:"flex","flex-direction":"column"},attrs:{span:"8"}},[i("Card",{staticStyle:{width:"400px",margin:"10px"},attrs:{title:"打印机选项",icon:"ios-options",padding:0,shadow:""}},[i("CellGroup",[i("Cell",{attrs:{title:"打印份数",label:"Copies"}},[i("Button",{attrs:{slot:"extra",icon:"md-add",type:"primary",shape:"circle",size:"small"},on:{click:function(e){t.setCopies("add")}},slot:"extra"}),t._v(" "),i("Input",{staticStyle:{width:"40px","margin-right":"10px","margin-left":"10px"},attrs:{slot:"extra",readonly:""},slot:"extra",model:{value:t.copies,callback:function(e){t.copies=e},expression:"copies"}}),t._v(" "),i("Button",{attrs:{slot:"extra",icon:"md-remove",type:"primary",shape:"circle",size:"small"},on:{click:function(e){t.setCopies("remove")}},slot:"extra"})],1),t._v(" "),i("Cell",{attrs:{title:"逐份打印",label:"Collate"}},[i("i-switch",{attrs:{slot:"extra",size:"large"},slot:"extra",model:{value:t.collate,callback:function(e){t.collate=e},expression:"collate"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v("ON")]),t._v(" "),i("span",{attrs:{slot:"close"},slot:"close"},[t._v("OFF")])])],1)],1)],1),t._v(" "),i("Card",{staticStyle:{width:"400px",margin:"10px"},attrs:{title:"页面内容和范围选择",icon:"ios-options",padding:0,shadow:""}},[i("CellGroup",[i("Cell",{attrs:{title:"打印范围",label:"Page Range"}},[i("RadioGroup",{attrs:{slot:"extra",type:"button"},slot:"extra",model:{value:t.pageRange,callback:function(e){t.pageRange=e},expression:"pageRange"}},[i("Radio",{attrs:{label:"AllPage"}},[t._v("所有页面")]),t._v(" "),i("Radio",{attrs:{label:"CurrentPage"}},[t._v("当前页面")]),t._v(" "),i("Radio",{attrs:{label:"SelectPage"}},[t._v("页面选择")])],1)],1),t._v(" "),i("Cell",{attrs:{title:"页面选择",label:"Page Selection"}},[i("Button",{attrs:{slot:"extra",icon:"md-add",type:"primary",shape:"circle",size:"small",disabled:"SelectPage"!=t.pageRange},on:{click:function(e){t.setStartPage("add")}},slot:"extra"}),t._v(" "),i("Input",{staticStyle:{width:"40px","margin-right":"10px","margin-left":"10px"},attrs:{slot:"extra",readonly:"",disabled:"SelectPage"!=t.pageRange},slot:"extra",model:{value:t.startPage,callback:function(e){t.startPage=e},expression:"startPage"}}),t._v(" "),i("Button",{attrs:{slot:"extra",icon:"md-remove",type:"primary",shape:"circle",size:"small",disabled:"SelectPage"!=t.pageRange},on:{click:function(e){t.setStartPage("remove")}},slot:"extra"}),t._v(" "),i("span",{attrs:{slot:"extra"},slot:"extra"},[t._v(" ~ ")]),t._v(" "),i("Button",{attrs:{slot:"extra",icon:"md-add",type:"primary",shape:"circle",size:"small",disabled:"SelectPage"!=t.pageRange},on:{click:function(e){t.setEndPage("add")}},slot:"extra"}),t._v(" "),i("Input",{staticStyle:{width:"40px","margin-right":"10px","margin-left":"10px"},attrs:{slot:"extra",readonly:"",disabled:"SelectPage"!=t.pageRange},slot:"extra",model:{value:t.endPage,callback:function(e){t.endPage=e},expression:"endPage"}}),t._v(" "),i("Button",{attrs:{slot:"extra",icon:"md-remove",type:"primary",shape:"circle",size:"small",disabled:"SelectPage"!=t.pageRange},on:{click:function(e){t.setEndPage("remove")}},slot:"extra"})],1),t._v(" "),i("Cell",{attrs:{title:"奇偶页面",label:"Page Parity"}},[i("RadioGroup",{attrs:{slot:"extra",type:"button"},slot:"extra",model:{value:t.pageParity,callback:function(e){t.pageParity=e},expression:"pageParity"}},[i("Radio",{attrs:{label:"None"}},[t._v("全部页面")]),t._v(" "),i("Radio",{attrs:{label:"OddPage"}},[t._v("仅奇数页")]),t._v(" "),i("Radio",{attrs:{label:"EvenPage"}},[t._v("仅偶数页")])],1)],1)],1)],1),t._v(" "),i("Button",{staticStyle:{margin:"10px"},attrs:{size:"large",icon:"md-print",type:"primary"},on:{click:function(e){t.setAutoAdjustment()}}},[t._v("提交打印作业\n                    ")])],1),t._v(" "),i("Col",{staticStyle:{height:"100%","align-items":"center",display:"flex","flex-direction":"column"},attrs:{span:"8"}},[i("Card",{staticStyle:{width:"400px",margin:"10px"},attrs:{title:"打印方式",icon:"ios-options",padding:0,shadow:""}},[i("CellGroup",[i("Cell",{attrs:{title:"一张多页",label:"Multi Page"}},[i("i-switch",{attrs:{slot:"extra",size:"large"},on:{"on-change":function(e){t.multiPagePreviewRefresh=t.multiPage}},slot:"extra",model:{value:t.multiPage,callback:function(e){t.multiPage=e},expression:"multiPage"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v("ON")]),t._v(" "),i("span",{attrs:{slot:"close"},slot:"close"},[t._v("OFF")])])],1),t._v(" "),i("Cell",{attrs:{title:"页面张数",label:"Page Count",disabled:!t.multiPage}},[i("RadioGroup",{attrs:{slot:"extra",type:"button"},on:{"on-change":function(e){t.setPageCount()}},slot:"extra",model:{value:t.multiPageCount,callback:function(e){t.multiPageCount=e},expression:"multiPageCount"}},[i("Radio",{attrs:{label:"2",disabled:!t.multiPage}},[t._v("2")]),t._v(" "),i("Radio",{attrs:{label:"4",disabled:!t.multiPage}},[t._v("4")]),t._v(" "),i("Radio",{attrs:{label:"6",disabled:!t.multiPage}},[t._v("6")]),t._v(" "),i("Radio",{attrs:{label:"9",disabled:!t.multiPage}},[t._v("9")]),t._v(" "),i("Radio",{attrs:{label:"16",disabled:!t.multiPage}},[t._v("16")]),t._v(" "),i("Radio",{attrs:{label:"Custom",disabled:!t.multiPage}},[t._v("自定义")])],1)],1),t._v(" "),i("Cell",{attrs:{title:"自定义页面张数",label:"Custom Page Count",disabled:!t.multiPage}},[i("Button",{attrs:{slot:"extra",icon:"md-add",type:"primary",shape:"circle",size:"small",disabled:"Custom"!=t.multiPageCount||!t.multiPage},on:{click:function(e){t.setRow("add")}},slot:"extra"}),t._v(" "),i("Input",{staticStyle:{width:"40px","margin-right":"10px","margin-left":"10px"},attrs:{slot:"extra",readonly:"",disabled:"Custom"!=t.multiPageCount||!t.multiPage},slot:"extra",model:{value:t.multiPageRowNum,callback:function(e){t.multiPageRowNum=e},expression:"multiPageRowNum"}}),t._v(" "),i("Button",{attrs:{slot:"extra",icon:"md-remove",type:"primary",shape:"circle",size:"small",disabled:"Custom"!=t.multiPageCount||!t.multiPage},on:{click:function(e){t.setRow("remove")}},slot:"extra"}),t._v(" "),i("span",{attrs:{slot:"extra"},slot:"extra"},[t._v(" 行 ")]),t._v(" "),i("Button",{attrs:{slot:"extra",icon:"md-add",type:"primary",shape:"circle",size:"small",disabled:"Custom"!=t.multiPageCount||!t.multiPage},on:{click:function(e){t.setCol("add")}},slot:"extra"}),t._v(" "),i("Input",{staticStyle:{width:"40px","margin-right":"10px","margin-left":"10px"},attrs:{slot:"extra",readonly:"",disabled:"Custom"!=t.multiPageCount||!t.multiPage},slot:"extra",model:{value:t.multiPageColNum,callback:function(e){t.multiPageColNum=e},expression:"multiPageColNum"}}),t._v(" "),i("Button",{attrs:{slot:"extra",icon:"md-remove",type:"primary",shape:"circle",size:"small",disabled:"Custom"!=t.multiPageCount||!t.multiPage},on:{click:function(e){t.setCol("remove")}},slot:"extra"}),t._v(" "),i("span",{attrs:{slot:"extra"},slot:"extra"},[t._v(" 列 ")])],1),t._v(" "),i("Cell",{staticStyle:{height:"60px"},attrs:{title:"页面顺序",label:"Page Order",disabled:!t.multiPage}},[i("RadioGroup",{attrs:{slot:"extra",type:"button"},on:{"on-change":function(e){t.multiPagePreviewRefresh=!0}},slot:"extra",model:{value:t.multiPageOrder,callback:function(e){t.multiPageOrder=e},expression:"multiPageOrder"}},[i("Radio",{staticStyle:{height:"50px",padding:"5px","text-align":"center"},attrs:{label:"Z",disabled:!t.multiPage}},[i("img",{attrs:{src:a(109),height:"40"}})]),t._v(" "),i("Radio",{staticStyle:{height:"50px",padding:"5px","text-align":"center"},attrs:{label:"anti_Z",disabled:!t.multiPage}},[i("img",{attrs:{src:a(106),height:"40"}})]),t._v(" "),i("Radio",{staticStyle:{height:"50px",padding:"5px","text-align":"center"},attrs:{label:"N",disabled:!t.multiPage}},[i("img",{attrs:{src:a(108),height:"40"}})]),t._v(" "),i("Radio",{staticStyle:{height:"50px",padding:"5px","text-align":"center"},attrs:{label:"anti_N",disabled:!t.multiPage}},[i("img",{attrs:{src:a(105),height:"40"}})])],1)],1),t._v(" "),i("Cell",{attrs:{title:"页面方向",label:"Page Orientation",disabled:!t.multiPage}},[i("RadioGroup",{attrs:{slot:"extra",type:"button",disabled:!t.multiPage},on:{"on-change":function(e){t.multiPagePreviewRefresh=!0}},slot:"extra",model:{value:t.multiPageOrientation,callback:function(e){t.multiPageOrientation=e},expression:"multiPageOrientation"}},[i("Radio",{attrs:{label:"transverse",disabled:!t.multiPage},nativeOn:{click:function(e){t.turningMode="TUMBLE"}}},[t._v("横向\n                                    ")]),t._v(" "),i("Radio",{attrs:{label:"lengthwise",disabled:!t.multiPage},nativeOn:{click:function(e){t.turningMode="DUPLEX"}}},[t._v("纵向\n                                    ")])],1)],1),t._v(" "),i("Cell",{attrs:{title:"双面打印",label:"Duplex"}},[i("i-switch",{attrs:{slot:"extra",size:"large"},slot:"extra",model:{value:t.duplex,callback:function(e){t.duplex=e},expression:"duplex"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v("ON")]),t._v(" "),i("span",{attrs:{slot:"close"},slot:"close"},[t._v("OFF")])])],1),t._v(" "),i("Cell",{attrs:{title:"翻页方式",label:"TurningMode"}},[i("RadioGroup",{attrs:{slot:"extra",type:"button"},slot:"extra",model:{value:t.turningMode,callback:function(e){t.turningMode=e},expression:"turningMode"}},[i("Radio",{attrs:{label:"DUPLEX",disabled:!t.duplex}},[t._v("双面长边翻页")]),t._v(" "),i("Radio",{attrs:{label:"TUMBLE",disabled:!t.duplex}},[t._v("双面短边翻页")])],1)],1)],1)],1)],1)],1)],1),t._v(" "),i("Footer",[i("p",{staticClass:"layout-footer-center"},[t._v("© Copyright 2018-2019 Oriole(MOTA). All Rights Reserved.")]),t._v(" "),i("v-countdownButton",{ref:"countdown",staticStyle:{position:"absolute",right:"10px",bottom:"10px"}})],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},55:function(t,e,a){a(101);var i=a(14)(a(92),a(135),"data-v-78a9957c",null);i.options.__file="F:\\Projects\\IdeaProjects\\MotaControlView\\src\\views\\SetPrintParam.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] SetPrintParam.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},58:function(t,e,a){a(62);var i=a(14)(a(59),a(66),"data-v-684d4a5f",null);i.options.__file="F:\\Projects\\IdeaProjects\\MotaControlView\\src\\components\\CountdownButton.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] CountdownButton.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},59:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{showButton:!0,router:"/"}},components:{},methods:{countDownStart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"true";clearInterval(this.$root.countdownClock),this.router=a,this.showButton=i,this.$root.countdownReturnTime=t,this.$root.countdownClock=window.setInterval(function(){--e.$root.countdownReturnTime<0&&e.countdownDo()},1e3)},countdownDo:function(){clearInterval(this.$root.countdownClock),this.$router.push(this.router)},countdownReset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;this.$root.countdownReturnTime=t}}}},60:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(58),o=a.n(i);e.default={components:{"v-countdownButton":o.a},data:function(){return{title:[{title:"执行结果",key:"state",width:90},{title:"代码",key:"code",width:90},{title:"异常信息",key:"msg"}],errorMsg:[],exceptionModel:!1,randomCode:null}},props:{},methods:{openExceptionModel:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-1",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ERROR";arguments[4]?this.$refs.countdown.countDownStart(60,"/StopServer"):this.$refs.countdown.countDownStart(60),this.randomCode=t;var o={};o.code=a,o.state=i,o.msg=e,this.errorMsg.push(o),this.exceptionModel=!0}}}},61:function(t,e){},62:function(t,e){},63:function(t,e,a){t.exports=a.p+"6f5a360e8c66765b60806e3babf78aef.png"},64:function(t,e,a){a(61);var i=a(14)(a(60),a(65),"data-v-0d3998ae",null);i.options.__file="F:\\Projects\\IdeaProjects\\MotaControlView\\src\\components\\ExceptionModel.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] ExceptionModel.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},65:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{attrs:{width:"700",closable:!1,"mask-closable":!1},model:{value:t.exceptionModel,callback:function(e){t.exceptionModel=e},expression:"exceptionModel"}},[i("p",{staticStyle:{color:"#ed4014","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("Icon",{attrs:{type:"ios-information-circle"}}),t._v(" "),i("span",[t._v("系统发生错误或异常")])],1),t._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("img",{staticStyle:{margin:"10px"},attrs:{src:a(63),width:"200"}}),t._v(" "),i("p",{staticStyle:{"font-size":"16px"}},[t._v("由于设备发生致命错误，我们被迫终止本次打印服务，给您带来的不便我们深表歉意。")]),t._v(" "),i("p",{staticStyle:{color:"#999999"}},[t._v("若您已经付费，请保留下方随机用户码进行退费，您将在1个工作日内获得全额退款与一次免费打印机会（限20张内）")]),t._v(" "),i("p",{staticStyle:{margin:"5px"}},[t._v("随机用户编码："),i("span",{staticStyle:{"font-size":"22px"}},[t._v(t._s(t.randomCode)+"-ET")])])]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Table",{attrs:{columns:t.title,data:t.errorMsg}}),t._v(" "),i("v-countdownButton",{ref:"countdown",staticStyle:{"font-size":"16px","margin-top":"10px"}})],1)])},staticRenderFns:[]},t.exports.render._withStripped=!0},66:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showButton?a("Button",{staticStyle:{"font-size":"16px"},attrs:{type:"error"},on:{click:function(e){t.countdownDo()}}},[a("Icon",{attrs:{type:"md-exit"}}),t._v("\n    退出\n    "),a("span",{staticStyle:{color:"#FA8072"}},[t._v("["+t._s(this.$root.countdownReturnTime)+" 秒]")])],1):t._e()},staticRenderFns:[]},t.exports.render._withStripped=!0},92:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(15),o=(a.n(i),a(64)),s=a.n(o),n=a(58),l=a.n(n);e.default={components:{"v-exception":s.a,"v-countdownButton":l.a},data:function(){return{filePageSize:0,finalFilePageSize:0,nowPage:1,pdfFileName:this.$root.randomCode,loading:!0,multiPagePreviewRefresh:!1,multiPagePreviewRefreshLoading:!1,fileType:"",startPage:1,endPage:0,copies:1,pageRange:"AllPage",duplex:!0,turningMode:"DUPLEX",pageParity:"None",collate:!1,multiPage:!1,multiPageRowNum:2,multiPageColNum:1,multiPageOrder:"Z",multiPageOrientation:"lengthwise",multiPageCount:"2",autoAdjustmentFlag:""}},mounted:function(){this.$refs.countdown.countDownStart(240),this.initWebSocket()},methods:{countdownReset:function(){this.$refs.countdown.countdownReset(240)},initWebSocket:function(){var t="ws://localhost:8999/PreviewLoading/"+this.pdfFileName;this.websock=new WebSocket(t),this.websock.onmessage=this.websocketOnMessage,this.websock.onopen=this.websocketOnOpen,this.websock.onerror=this.websocketOnError,this.websock.onclose=this.websocketClose},websocketOnOpen:function(){console.log("Successful establishment of WebSocket connection")},websocketOnError:function(t){console.log(t),this.initWebSocket()},websocketOnMessage:function(t){var e=JSON.parse(t.data);"SUCCESS"==e.state?("01"==e.code?this.finalFilePageSize=parseInt(e.msg):(this.filePageSize=parseInt(e.msg),this.endPage=parseInt(e.msg),this.filePageSize==this.finalFilePageSize&&(this.loading=!1)),1==parseInt(e.msg)&&this.selectPage(1)):this.$refs.exceptionModel.openExceptionModel(this.$root.randomCode,e.msg,e.code,e.state)},websocketSend:function(t){this.websock.send(t)},websocketClose:function(t){console.log("断开连接",t)},selectPage:function(t){var e=this,a={method:"get",url:null,responseType:"arraybuffer",params:{fileName:this.pdfFileName,page:parseInt(t)-1}};this.multiPage?a.url="http://localhost:8999/getSplicingPageThumbnail":a.url="http://localhost:8999/getSinglePageThumbnail",this.multiPagePreviewRefreshLoading=!0,i(a).then(function(t){return"data:image/png;base64,"+btoa(new Uint8Array(t.data).reduce(function(t,e){return t+String.fromCharCode(e)},""))}).then(function(t){e.multiPagePreviewRefreshLoading=!1,e.$refs.PreviewPic.src=t}).catch(function(t){e.$refs.exceptionModel.openExceptionModel(e.$root.randomCode,t.toString())})},setAutoAdjustment:function(){var t=this;0==this.multiPage?i({method:"get",url:"http://localhost:8999/documentTypePrediction",params:{fileName:this.pdfFileName}}).then(function(e){var a=e.data;if("SUCCESS"==a.state)switch(t.fileType=a.msg,t.fileType){case"Unknow_Transverse":t.autoAdjustmentFlag="FIX_T_Model",t.autoAdjustmentConfirm("Unknown");break;case"Unknow_Lengthwise":t.autoAdjustmentFlag="FIX_L_Model",t.autoAdjustmentConfirm("Unknown");break;case"A4_lengthwise":case"A4_transverse":t.sendParam();break;case"PPT":t.autoAdjustmentFlag="FIX_T_Model",t.autoAdjustmentConfirm("PPT")}else t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,a.msg,a.code,a.state)}).catch(function(e){t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,e.toString())}):this.sendParam()},autoAdjustmentConfirm:function(t){var e=this,a=void 0,i=void 0;switch(t){case"PPT":a="检测到通用PowerPoint文件",i='<p>通常情况下PowerPoint打印时将根据纸张调整大小。</p><br/><p>您可以手动关闭这一调整选项。但若您<span style="color:#f60;">拒绝</span>根据纸张调整大小选项，<span style="color:#f60;">可能导致页面印刷不全、位置偏移等意外情况</span>，宜悉知！</p>';break;default:a="未知纸张适应类型",i='<p>在通常情况下这一意外不会发生，除非您使用了意外的文档编辑器或文档页面大小确实超过A4纸大小。</p><br/><p>为保证良好的印刷效果，墨拓将自动调整您的页面边距，并对页面进行缩放以确保可以完美印刷</p><br/><p>您可以手动关闭这一调整选项。但若您<span style="color:#f60;">拒绝</span>自动调整文档尺寸，<span style="color:#f60;">可能导致页面印刷不全、位置偏移等意外情况</span>，宜悉知！</p>'}this.$Modal.confirm({title:a,content:i,loading:!0,okText:"没问题，请自动调整",cancelText:"不，不要自动调整文档",onOk:function(){e.autoAdjustment()},onCancel:function(){e.sendParam(),e.$Modal.remove()}})},autoAdjustment:function(){var t=this;this.multiPagePreviewRefresh=!0,this.multiPage=!0,this.multiPageRowNum=1,this.multiPageColNum=1,this.multiPageOrder="Z",this.multiPageOrientation="FIX_L_Model"===this.autoAdjustmentFlag?"lengthwise":"transverse",this.turningMode="FIX_L_Model"===this.autoAdjustmentFlag?"DUPLEX":"TUMBLE",this.multiPageCount="Custom",this.loading?(this.$Modal.remove(),this.$Notice.warning({title:"注意",desc:"在页面全部加载完毕前，不能自动调整页面，请等待加载完毕后重试"})):i({method:"get",url:"http://localhost:8999/splicingPage",params:{fileName:this.pdfFileName,pageCount:this.finalFilePageSize,multiPageColNum:this.multiPageColNum,multiPageRowNum:this.multiPageRowNum,multiPageOrientation:this.multiPageOrientation,multiPageOrder:this.multiPageOrder}}).then(function(e){var a=e.data;"SUCCESS"==a.state?(t.multiPagePreviewRefresh=!1,t.sendParam(),t.$Modal.remove()):t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,a.msg,a.code,a.state)}).catch(function(e){t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,e.toString())})},sendParam:function(){var t=this;this.multiPagePreviewRefresh||this.multiPagePreviewRefreshLoading?this.$Notice.warning({title:"注意",desc:"在一张多页预览加载完毕前，不能提交打印任务，请等待加载完毕后重试"}):i({method:"get",url:"http://localhost:8999/setPrintingParam",params:{randomCode:this.pdfFileName,pageRange:this.pageRange,nowPage:this.nowPage,startPage:this.startPage,endPage:this.endPage,pageParity:this.pageParity,copies:this.copies,collate:this.collate,multiPage:this.multiPage,multiPageRowNum:this.multiPageRowNum,multiPageColNum:this.multiPageColNum,multiPageOrder:this.multiPageOrder,multiPageOrientation:this.multiPageOrientation,multiPageCount:this.multiPageCount,duplex:this.duplex,turningMode:this.turningMode}}).then(function(e){var a=e.data;"SUCCESS"==a.state?(clearInterval(t.countdownClock),t.$router.push({name:"ChooseServiceType",params:{direction:t.multiPageOrientation}})):t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,a.msg,a.code,a.state)}).catch(function(e){t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,e.toString())})},setPageCount:function(){switch(this.multiPagePreviewRefresh=!0,this.multiPageCount){case"2":this.multiPageColNum=1,this.multiPageRowNum=2;break;case"4":this.multiPageColNum=2,this.multiPageRowNum=2;break;case"6":this.multiPageColNum=3,this.multiPageRowNum=2;break;case"9":this.multiPageColNum=3,this.multiPageRowNum=3;break;case"16":this.multiPageColNum=4,this.multiPageRowNum=4;break;case"Custom":this.multiPageColNum=2,this.multiPageRowNum=2}},splicingPage:function(){var t=this;this.multiPage?this.loading?this.$Notice.warning({title:"注意",desc:"在页面全部加载完毕前，一张多页无法预览"}):(this.multiPagePreviewRefresh=!1,this.multiPagePreviewRefreshLoading=!0,i({method:"get",url:"http://localhost:8999/splicingPage",params:{fileName:this.pdfFileName,pageCount:this.finalFilePageSize,multiPageColNum:this.multiPageColNum,multiPageRowNum:this.multiPageRowNum,multiPageOrientation:this.multiPageOrientation,multiPageOrder:this.multiPageOrder}}).then(function(e){var a=e.data;"SUCCESS"==a.state?(t.filePageSize=parseInt(a.msg),t.endPage=parseInt(a.msg),t.selectPage(1),t.nowPage=1):t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,a.msg,a.code,a.state)}).catch(function(e){t.$refs.exceptionModel.openExceptionModel(t.$root.randomCode,e.toString())})):(this.filePageSize=this.finalFilePageSize,this.nowPage=1,this.selectPage(1))},setCopies:function(t){switch(t){case"add":this.duplex&&this.copies*this.finalFilePageSize>100||!this.duplex&&this.copies*this.finalFilePageSize>50?this.$Notice.warning({title:"注意",desc:"单次打印的总页数不能超过50页哦，超大文件若需多份请分开打印哦"}):this.copies=this.copies+1;break;case"remove":this.copies>1?this.copies=this.copies-1:this.$Notice.warning({title:"注意",desc:"至少需要印刷一份呢亲亲~"})}},setStartPage:function(t){switch(t){case"add":this.startPage<this.endPage?this.startPage=this.startPage+1:this.$Notice.warning({title:"注意",desc:"起始页不得在终结页之后呢！"});break;case"remove":this.startPage>1?this.startPage=this.startPage-1:this.$Notice.warning({title:"注意",desc:"已经到达首页了呢"})}},setEndPage:function(t){switch(t){case"add":this.endPage<this.filePageSize?this.endPage=this.endPage+1:this.$Notice.warning({title:"注意",desc:"已经到达末尾了呢"});break;case"remove":this.endPage>this.startPage?this.endPage=this.endPage-1:this.$Notice.warning({title:"注意",desc:"终结页不得在起始页之后呢！"})}},setRow:function(t){switch(t){case"add":this.multiPageRowNum<=16?this.multiPageRowNum=this.multiPageRowNum+1:this.$Notice.warning({title:"注意",desc:"最多不建议超过16行呢"});break;case"remove":this.multiPageRowNum>1?this.multiPageRowNum=this.multiPageRowNum-1:this.$Notice.warning({title:"注意",desc:"最低不能小于1行呢"})}this.multiPagePreviewRefresh=!0},setCol:function(t){switch(t){case"add":this.multiPageColNum<=16?this.multiPageColNum=this.multiPageColNum+1:this.$Notice.warning({title:"注意",desc:"最多不建议超过16行呢"});break;case"remove":this.multiPageColNum>1?this.multiPageColNum=this.multiPageColNum-1:this.$Notice.warning({title:"注意",desc:"最低不能小于1行呢"})}this.multiPagePreviewRefresh=!0}}}}});